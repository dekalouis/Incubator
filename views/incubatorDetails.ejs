<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Incubator - <%= incubator.name %></title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body class="container">
    <%- include('partials/nav') %>

    <div class="mt-4">
      <h1 class="mb-3"><%= incubator.name %></h1>

      <h3 class="text-muted">Code: <%= incubator.code %></h3>

      <% if (message) { %>
      <div class="alert alert-danger"><%= message %></div>
      <% } %>

      <br />
      <p>
        Click to
        <a
          href="/incubators/<%= incubator.id %>/startUp/add"
          class="btn btn-dark"
          >Add
        </a>
        a New StartUp
      </p>

      <% if (startups && startups.length > 0) { %>
      <table class="table table-bordered">
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>Founder Name</th>
            <th>Age</th>
            <th>Education</th>
            <th>Role of Founder</th>
            <th>Valuation</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% startups.forEach(startup => { %>
          <tr>
            <td><%= startup.startUpName %></td>
            <td><%= startup.founderName %></td>
            <td><%= startup.age %></td>
            <td><%= startup.educationOfFounder %></td>
            <td><%= startup.roleOfFounder %></td>
            <td><%= formatRupiah(startup.valuation) %></td>
            <td>
              <a
                href="/incubators/<%= incubator.id %>/startUp/<%= startup.id %>/edit"
                class="btn btn-sm btn-warning"
                >Edit</a
              >
              <a
                href="/incubators/<%= incubator.id %>/startUp/<%= startup.id %>/delete"
                class="btn btn-sm btn-danger"
                >Delete</a
              >
            </td>
          </tr>
          <% }); %>
        </tbody>
      </table>
      <% } else { %>
      <p class="text-muted">There are no startups yet.</p>
      <% } %>

      <h3>
        Valuation of All StartUps: <%= formatRupiah(totalValuation) || '-' %>
      </h3>
    </div>
  </body>
</html>
